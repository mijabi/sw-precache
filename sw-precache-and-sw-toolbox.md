# sw-precache? sw-toolbox? What's the difference?  
sw-precache? sw-toolbox? 違いは何？

## sw-precache ⇒ app shell, sw-toolbox ⇒ dynamic content  
sw-precache = App Shell（[1st View 表示用の HTML、CSS、JS 等の構成要素](https://developers.google.com/web/fundamentals/architecture/app-shell?hl=ja)）、sw-toolbox はダイナミックコンテンツ用。

It's very common to use `sw-precache` and `sw-toolbox` in conjunction with each
other, especially when following the
[App Shell](https://github.com/GoogleChrome/sw-precache/blob/master/GettingStarted.md#app-shell) +
[dynamic content](https://github.com/GoogleChrome/sw-precache/blob/master/GettingStarted.md#dynamic-content)
model.

sw-precache と sw-toolbox を一緒に使うのはとても一般的で、特に App Shell + Dynamic Content を組み合わせるケースでは。

The service worker that `sw-precache` generates handles the local asset
versioning and uses cache-first strategy for your App Shell.

sw-precache（Service Worker）は、App Shell 用のバージョニングしたローカル要素を、cache-first の考え方のもとに扱う環境を構築します。

`sw-toolbox` handles runtime caching strategies for dynamic content, such as API
calls, third-party resources, and large or infrequently used local resources
that you don't want precached.

sw-toolbox は、Runtime Caching の考え方のもと、APIコールや 3rd パーティーのダイナミックコンテンツや、大きいプリフェッチしたくない頻繁には使われないローカルリソースなどを扱います。

## Using them together via sw-precache's runtimeCaching  
sw-precache の runtimeCachingu 経由でそれらを一緒に使う

We wanted to make it easier for developers to use the two libraries together.
Because `sw-precache` has to be directly integrated with your build environment
and must be responsible for outputting your top-level service worker file, it
made the most sense as an integration point to give `sw-precache` the ability to
include the `sw-toolbox` code and configuration alongside its own
configuration. Using the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
configuration option in `sw-precache` is a shortcut that accomplishes what you
could do manually by importing `sw-toolbox` in your service worker and writing
your own routing rules. You can confirm this by looking at a
[sample `service-worker.js`](https://github.com/GoogleChrome/sw-precache/blob/5fede7148a516c0bf555e9580c74b9accffe721c/service-worker.js#L206)
file generated by `sw-precache` when the
[`runtimeCaching` option is used](https://github.com/GoogleChrome/sw-precache/blob/9118fe1e3905f959198f3bdd21004238b1c884f5/demo/gulpfile.js#L55).

開発者が2つのライブラリを一緒に使うことをより簡単にしたいと考えました。 sw-precache はビルド環境と直接統合する必要があり、最上位のサービスワーカーファイルの出力を担当する必要があるため、sw-precache に sw-toolbox コードを含める機能を統合ポイントとして最も理にかなっています。独自の構成と一緒に構成することができます。 sw-precache の runtimeCaching 設定オプションを使用すると、サービスワーカーで sw-toolbox をインポートして独自のルーティングルールを作成することで、手動で行うことができるようになります。これは、runtimeCaching オプションが使用されているときに sw-precache で生成された service-worker.js ファイルのサンプルを見ることで確認できます。

## The future

This relationship might change at some point in the future once changes to the
service worker specification make it possible to
[relax the requirement](https://github.com/GoogleChrome/sw-precache/issues/147)
that `sw-precache` generate the top-level service worker.

将来この関係性は、サービスワーカー仕様に変更されると、sw-precache がトップレベルのサービスワーカーを生成するという要件を緩和することができます。